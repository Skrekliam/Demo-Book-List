(this["webpackJsonpdemo-book-list"]=this["webpackJsonpdemo-book-list"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(34),o=c.n(r),s=(c(42),c(43),c(18)),i=c.n(s),j=c(22),d=c(12),l=c(14),b=c.n(l),h=c(35),u=c(82),O=c(75),x=c(81),m=c(76),p=c(77),f=c(15),k=c(1),v=["Action","Adventure","Comedy","Drama","Fantasy"];v.unshift("");var y=v.map((function(e){return Object(k.jsx)("option",{children:e},e)}));function g(){return y}var S="192.168.1.2";function B(e){var t=e.match,c=Object(n.useState)(""),a=Object(d.a)(c,2),r=a[0],o=a[1],s=Object(n.useState)(""),l=Object(d.a)(s,2),v=l[0],y=l[1],B=Object(n.useState)("Drama"),C=Object(d.a)(B,2),w=C[0],I=C[1],N=Object(n.useState)(""),D=Object(d.a)(N,2),L=D[0],E=D[1],A=Object(n.useState)(!1),_=Object(d.a)(A,2),F=_[0],P=_[1],z=Object(n.useState)(!1),G=Object(d.a)(z,2),q=(G[0],G[1],function(){var e=Object(j.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,b.a.get("http://".concat(S,":3001/books/").concat(t.params.id)).then((function(e){o(e.data.book_name),y(e.data.author_name),I(e.data.category),E(e.data.ISBN)})).catch((function(e){return alert(e)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){t.params.id&&q()}),[]);function T(){return(T=Object(j.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=4;break}b.a.patch("https://my-json-server.typicode.com/Skrekliam/Demo-Book-List/books/".concat(t.params.id),{id:t.params.id,book_name:r,author_name:v,category:w,ISBN:L}).then((function(){return alert("Successfull update")})).catch((function(e){return alert(e)})),e.next=10;break;case 4:return e.next=6,b.a.then((function(e){return e.data[e.data.length-1].id})).catch((function(e){return alert(e)}));case 6:c=e.sent,c+=1,console.log(c),b.a.post("https://my-json-server.typicode.com/Skrekliam/Demo-Book-List/books/",{id:c,book_name:r,author_name:v,category:w,ISBN:L}).then((function(e){return alert("Book successfully added with index: ".concat(c))})).catch((function(e){return alert("something went wrong: "+e)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=Object(n.useState)(!1),J=Object(d.a)(V,2),H=J[0],M=J[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{xl:2,sm:2,md:2,children:Object(k.jsx)(f.b,{to:"/",children:Object(k.jsx)(u.a,{variant:"outline-primary",size:"sm",block:!0,children:"< Dashboard"})})}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)("h1",{children:F?"Edit book":"Add new book"}),Object(k.jsxs)(h.a,{xl:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(h.a,{xl:9,children:Object(k.jsxs)(x.a,{noValidate:!0,validated:H,onSubmit:function(e){var t=e.currentTarget;e.preventDefault(),!1===t.checkValidity()?e.stopPropagation():(!function(){T.apply(this,arguments)}(),o(""),y(""),I(""),E(""),M(!0)),M(!0)},children:[Object(k.jsxs)(x.a.Group,{as:m.a,controlId:"bTitle",children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"Book title"}),Object(k.jsxs)(h.a,{sm:10,children:[Object(k.jsx)(x.a.Control,{required:!0,type:"text",value:r,onChange:function(e){o(e.target.value)},placeholder:"Enter here book title"}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter book title."})]})]}),Object(k.jsxs)(x.a.Group,{as:m.a,controlId:"aName",children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"Author name"}),Object(k.jsxs)(h.a,{sm:10,children:[Object(k.jsx)(x.a.Control,{required:!0,type:"text",value:v,onChange:function(e){return y(e.target.value)},placeholder:"Enter here author name"}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter author name."})]})]}),Object(k.jsxs)(x.a.Group,{as:m.a,children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"Category"}),Object(k.jsx)(h.a,{sm:10,children:Object(k.jsxs)(x.a.Control,{htmlSize:3,custom:!0,required:!0,as:"select",onChange:function(e){I(e.target.value)},children:[Object(k.jsx)(g,{}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please choose genre."})]})})]}),Object(k.jsxs)(x.a.Group,{as:m.a,controlId:"ISBN",children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"International Standard Book Number"}),Object(k.jsx)(h.a,{sm:10,children:Object(k.jsxs)(p.a,{hasValidation:!0,children:[Object(k.jsx)(p.a.Prepend,{children:Object(k.jsx)(p.a.Text,{id:"basic-addon3",children:"ISBN"})}),Object(k.jsx)(x.a.Control,{type:"text",pattern:"\\d*",maxLength:"13",minLength:"13",value:L,required:!0,onChange:function(e){return E(e.target.value)},placeholder:"Enter here international Standard Book Number"}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter ISBN (13 digits)."})]})})]}),Object(k.jsx)(x.a.Group,{as:m.a,children:Object(k.jsx)(h.a,{sm:{span:10,offset:2},children:Object(k.jsx)(u.a,{type:"submit",size:"lg",block:!0,children:F?"Save as #".concat(t.params.id):"Add a Book"})})})]})})]})]})]})}c(73);var C=c(78),w=c(79),I=c(80);function N(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),i=s[0],j=s[1];Object(n.useEffect)((function(){b.a.get("https://my-json-server.typicode.com/Skrekliam/Demo-Book-List/books/").then((function(e){r(e.data),console.log("Data loaded successfully")})).catch((function(e){return alert(e)}))}),[i]);var l=function(e){console.log(e);var t=e.target.id;window.confirm("You realy want to delete book with index ".concat(t,"?"))&&b.a.delete("https://my-json-server.typicode.com/Skrekliam/Demo-Book-List/books/".concat(t)).then((function(e){return alert("Book deleted successfully")})).catch((function(e){return alert("Error: \t ".concat(e))})),j(!i)},x=a.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.id}),Object(k.jsx)("td",{children:e.book_name}),Object(k.jsx)("td",{children:e.author_name}),Object(k.jsx)("td",{children:e.category}),Object(k.jsx)("td",{children:e.ISBN}),Object(k.jsx)("td",{children:Object(k.jsxs)(C.a,{children:[Object(k.jsx)(f.b,{to:{pathname:"/book/".concat(e.id)},children:Object(k.jsx)(u.a,{variant:"warning",children:"Edit"})}),Object(k.jsx)(u.a,{variant:"outline-danger",size:"sm",id:e.id,onClick:l,children:"Delete"})]})})]},e.id)}));return Object(k.jsxs)("div",{children:[Object(k.jsxs)(w.a,{children:[Object(k.jsxs)(h.a,{xl:5,children:[Object(k.jsx)("h1",{children:document.title}),Object(k.jsx)("p",{children:"Here you can add books to your list, remove, or edit them"})]}),Object(k.jsx)(h.a,{xl:3,children:Object(k.jsx)(f.b,{to:"/book",children:Object(k.jsx)(u.a,{variant:"outline-primary",size:"sm",children:"Add Book >"})})})]}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(I.a,{striped:!0,bordered:!0,hover:!0,children:[Object(k.jsx)("thead",{variant:"dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:"Book title"}),Object(k.jsx)("th",{children:"Author name"}),Object(k.jsx)("th",{children:"Category"}),Object(k.jsx)("th",{children:"ISBN"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:x})]})})]})}var D=c(6);var L=function(){return Object(k.jsx)(f.a,{children:Object(k.jsxs)(D.c,{children:[Object(k.jsx)(D.a,{exact:!0,path:"/",component:Object(D.f)(N)}),Object(k.jsx)(D.a,{exact:!0,path:"/book",component:Object(D.f)(B)}),Object(k.jsx)(D.a,{exact:!0,path:"/book/:id",component:Object(D.f)(B)})]})})};o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(L,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.9b2edd14.chunk.js.map